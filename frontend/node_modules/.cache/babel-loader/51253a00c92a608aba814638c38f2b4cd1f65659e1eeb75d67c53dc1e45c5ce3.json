{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vp141\\\\smart-property-system\\\\frontend\\\\src\\\\components\\\\TenantPayments.jsx\",\n  _s = $RefreshSig$();\n// src/components/TenantPayments.jsx\nimport React, { useEffect, useState } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TenantPayments() {\n  _s();\n  const [payments, setPayments] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setPayments([]); // no token, no payments\n      return;\n    }\n    api.get('/payments/user', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setPayments(res.data);\n    }).catch(err => {\n      var _err$response;\n      console.error(\"❌ Error loading payments:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      setPayments([]);\n    });\n  }, []);\n  if (payments === null) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading payment history...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 33\n  }, this);\n  if (payments.length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"No payments found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 37\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.card,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: styles.title,\n      children: \"Payment History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: styles.table,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Late Fee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: styles.th,\n            children: \"Note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: payments.map(payment => {\n          var _payment$note;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: payment.paid_date ? new Date(payment.paid_date).toLocaleDateString() : '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: payment.amount ? `$${parseFloat(payment.amount).toLocaleString()}` : '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: payment.status || '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: payment.late_fee_applied ? 'Yes' : 'No'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: styles.td,\n              children: (_payment$note = payment.note) !== null && _payment$note !== void 0 ? _payment$note : '—'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, payment.payment_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(TenantPayments, \"O+MR6KM1RDDV1y9PzyXa/R2Cx1g=\");\n_c = TenantPayments;\nconst styles = {\n  card: {\n    backgroundColor: '#fff',\n    padding: '2rem',\n    borderRadius: '12px',\n    boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n    marginBottom: '2.5rem',\n    border: '1px solid #eee'\n  },\n  title: {\n    fontSize: '1.35rem',\n    marginBottom: '1.25rem',\n    color: '#222',\n    borderBottom: '1px solid #ddd',\n    paddingBottom: '0.5rem',\n    fontWeight: '600'\n  },\n  table: {\n    width: '100%',\n    borderCollapse: 'collapse',\n    marginBottom: '1.5rem'\n  },\n  th: {\n    textAlign: 'left',\n    padding: '0.75rem',\n    backgroundColor: '#f5f5f5',\n    borderBottom: '1px solid #ddd',\n    fontSize: '0.95rem',\n    color: '#333'\n  },\n  td: {\n    padding: '0.75rem',\n    borderBottom: '1px solid #eee',\n    fontSize: '0.9rem',\n    color: '#444'\n  },\n  statusPaid: {\n    color: '#28a745',\n    fontWeight: '600'\n  },\n  statusPending: {\n    color: '#ffc107',\n    fontWeight: '600'\n  },\n  statusFailed: {\n    color: '#dc3545',\n    fontWeight: '600'\n  },\n  payButton: {\n    padding: '0.5rem 1rem',\n    backgroundColor: '#0078D4',\n    color: '#fff',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontWeight: '500',\n    marginTop: '1rem'\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"TenantPayments\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","TenantPayments","_s","payments","setPayments","token","localStorage","getItem","get","headers","Authorization","then","res","data","catch","err","_err$response","console","error","response","message","children","fileName","_jsxFileName","lineNumber","columnNumber","length","style","styles","card","title","table","th","map","payment","_payment$note","td","paid_date","Date","toLocaleDateString","amount","parseFloat","toLocaleString","status","late_fee_applied","note","payment_id","_c","backgroundColor","padding","borderRadius","boxShadow","marginBottom","border","fontSize","color","borderBottom","paddingBottom","fontWeight","width","borderCollapse","textAlign","statusPaid","statusPending","statusFailed","payButton","cursor","marginTop","$RefreshReg$"],"sources":["C:/Users/vp141/smart-property-system/frontend/src/components/TenantPayments.jsx"],"sourcesContent":["// src/components/TenantPayments.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport api from '../services/api';\r\n\r\nexport default function TenantPayments() {\r\n  const [payments, setPayments] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setPayments([]); // no token, no payments\r\n      return;\r\n    }\r\n\r\n    api.get('/payments/user', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    })\r\n      .then(res => {\r\n        setPayments(res.data);\r\n      })\r\n      .catch(err => {\r\n        console.error(\"❌ Error loading payments:\", err.response?.data || err.message);\r\n        setPayments([]);\r\n      });\r\n  }, []);\r\n\r\n  if (payments === null) return <p>Loading payment history...</p>;\r\n  if (payments.length === 0) return <p>No payments found.</p>;\r\n\r\n  return (\r\n    <div style={styles.card}>\r\n      <h3 style={styles.title}>Payment History</h3>\r\n      <table style={styles.table}>\r\n        <thead>\r\n          <tr>\r\n            <th style={styles.th}>Date</th>\r\n            <th style={styles.th}>Amount</th>\r\n            <th style={styles.th}>Status</th>\r\n            <th style={styles.th}>Late Fee</th>\r\n            <th style={styles.th}>Note</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {payments.map((payment) => (\r\n            <tr key={payment.payment_id}>\r\n              <td style={styles.td}>\r\n                {payment.paid_date\r\n                  ? new Date(payment.paid_date).toLocaleDateString()\r\n                  : '—'}\r\n              </td>\r\n              <td style={styles.td}>\r\n                {payment.amount\r\n                  ? `$${parseFloat(payment.amount).toLocaleString()}`\r\n                  : '—'}\r\n              </td>\r\n              <td style={styles.td}>\r\n                {payment.status || '—'}\r\n              </td>\r\n              <td style={styles.td}>\r\n                {payment.late_fee_applied ? 'Yes' : 'No'}\r\n              </td>\r\n              <td style={styles.td}>\r\n                {payment.note ?? '—'}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    padding: '2rem',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\r\n    marginBottom: '2.5rem',\r\n    border: '1px solid #eee'\r\n  },\r\n  title: {\r\n    fontSize: '1.35rem',\r\n    marginBottom: '1.25rem',\r\n    color: '#222',\r\n    borderBottom: '1px solid #ddd',\r\n    paddingBottom: '0.5rem',\r\n    fontWeight: '600'\r\n  },\r\n  table: {\r\n    width: '100%',\r\n    borderCollapse: 'collapse',\r\n    marginBottom: '1.5rem'\r\n  },\r\n  th: {\r\n    textAlign: 'left',\r\n    padding: '0.75rem',\r\n    backgroundColor: '#f5f5f5',\r\n    borderBottom: '1px solid #ddd',\r\n    fontSize: '0.95rem',\r\n    color: '#333'\r\n  },\r\n  td: {\r\n    padding: '0.75rem',\r\n    borderBottom: '1px solid #eee',\r\n    fontSize: '0.9rem',\r\n    color: '#444'\r\n  },\r\n  statusPaid: {\r\n    color: '#28a745',\r\n    fontWeight: '600'\r\n  },\r\n  statusPending: {\r\n    color: '#ffc107',\r\n    fontWeight: '600'\r\n  },\r\n  statusFailed: {\r\n    color: '#dc3545',\r\n    fontWeight: '600'\r\n  },\r\n  payButton: {\r\n    padding: '0.5rem 1rem',\r\n    backgroundColor: '#0078D4',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n    fontWeight: '500',\r\n    marginTop: '1rem'\r\n  }\r\n};"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACvC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACd,MAAMS,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACVD,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;MACjB;IACF;IAEAN,GAAG,CAACU,GAAG,CAAC,gBAAgB,EAAE;MACxBC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAC9C,CAAC,CAAC,CACCM,IAAI,CAACC,GAAG,IAAI;MACXR,WAAW,CAACQ,GAAG,CAACC,IAAI,CAAC;IACvB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;MAAA,IAAAC,aAAA;MACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAE,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,uBAAZA,aAAA,CAAcH,IAAI,KAAIE,GAAG,CAACK,OAAO,CAAC;MAC7EhB,WAAW,CAAC,EAAE,CAAC;IACjB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,QAAQ,KAAK,IAAI,EAAE,oBAAOH,OAAA;IAAAqB,QAAA,EAAG;EAA0B;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAC/D,IAAItB,QAAQ,CAACuB,MAAM,KAAK,CAAC,EAAE,oBAAO1B,OAAA;IAAAqB,QAAA,EAAG;EAAkB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAE3D,oBACEzB,OAAA;IAAK2B,KAAK,EAAEC,MAAM,CAACC,IAAK;IAAAR,QAAA,gBACtBrB,OAAA;MAAI2B,KAAK,EAAEC,MAAM,CAACE,KAAM;MAAAT,QAAA,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7CzB,OAAA;MAAO2B,KAAK,EAAEC,MAAM,CAACG,KAAM;MAAAV,QAAA,gBACzBrB,OAAA;QAAAqB,QAAA,eACErB,OAAA;UAAAqB,QAAA,gBACErB,OAAA;YAAI2B,KAAK,EAAEC,MAAM,CAACI,EAAG;YAAAX,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/BzB,OAAA;YAAI2B,KAAK,EAAEC,MAAM,CAACI,EAAG;YAAAX,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjCzB,OAAA;YAAI2B,KAAK,EAAEC,MAAM,CAACI,EAAG;YAAAX,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjCzB,OAAA;YAAI2B,KAAK,EAAEC,MAAM,CAACI,EAAG;YAAAX,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnCzB,OAAA;YAAI2B,KAAK,EAAEC,MAAM,CAACI,EAAG;YAAAX,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRzB,OAAA;QAAAqB,QAAA,EACGlB,QAAQ,CAAC8B,GAAG,CAAEC,OAAO;UAAA,IAAAC,aAAA;UAAA,oBACpBnC,OAAA;YAAAqB,QAAA,gBACErB,OAAA;cAAI2B,KAAK,EAAEC,MAAM,CAACQ,EAAG;cAAAf,QAAA,EAClBa,OAAO,CAACG,SAAS,GACd,IAAIC,IAAI,CAACJ,OAAO,CAACG,SAAS,CAAC,CAACE,kBAAkB,CAAC,CAAC,GAChD;YAAG;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLzB,OAAA;cAAI2B,KAAK,EAAEC,MAAM,CAACQ,EAAG;cAAAf,QAAA,EAClBa,OAAO,CAACM,MAAM,GACX,IAAIC,UAAU,CAACP,OAAO,CAACM,MAAM,CAAC,CAACE,cAAc,CAAC,CAAC,EAAE,GACjD;YAAG;cAAApB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACLzB,OAAA;cAAI2B,KAAK,EAAEC,MAAM,CAACQ,EAAG;cAAAf,QAAA,EAClBa,OAAO,CAACS,MAAM,IAAI;YAAG;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpB,CAAC,eACLzB,OAAA;cAAI2B,KAAK,EAAEC,MAAM,CAACQ,EAAG;cAAAf,QAAA,EAClBa,OAAO,CAACU,gBAAgB,GAAG,KAAK,GAAG;YAAI;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC,eACLzB,OAAA;cAAI2B,KAAK,EAAEC,MAAM,CAACQ,EAAG;cAAAf,QAAA,GAAAc,aAAA,GAClBD,OAAO,CAACW,IAAI,cAAAV,aAAA,cAAAA,aAAA,GAAI;YAAG;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CAAC;UAAA,GAnBES,OAAO,CAACY,UAAU;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAoBvB,CAAC;QAAA,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV;AAACvB,EAAA,CAlEuBD,cAAc;AAAA8C,EAAA,GAAd9C,cAAc;AAoEtC,MAAM2B,MAAM,GAAG;EACbC,IAAI,EAAE;IACJmB,eAAe,EAAE,MAAM;IACvBC,OAAO,EAAE,MAAM;IACfC,YAAY,EAAE,MAAM;IACpBC,SAAS,EAAE,6BAA6B;IACxCC,YAAY,EAAE,QAAQ;IACtBC,MAAM,EAAE;EACV,CAAC;EACDvB,KAAK,EAAE;IACLwB,QAAQ,EAAE,SAAS;IACnBF,YAAY,EAAE,SAAS;IACvBG,KAAK,EAAE,MAAM;IACbC,YAAY,EAAE,gBAAgB;IAC9BC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE;EACd,CAAC;EACD3B,KAAK,EAAE;IACL4B,KAAK,EAAE,MAAM;IACbC,cAAc,EAAE,UAAU;IAC1BR,YAAY,EAAE;EAChB,CAAC;EACDpB,EAAE,EAAE;IACF6B,SAAS,EAAE,MAAM;IACjBZ,OAAO,EAAE,SAAS;IAClBD,eAAe,EAAE,SAAS;IAC1BQ,YAAY,EAAE,gBAAgB;IAC9BF,QAAQ,EAAE,SAAS;IACnBC,KAAK,EAAE;EACT,CAAC;EACDnB,EAAE,EAAE;IACFa,OAAO,EAAE,SAAS;IAClBO,YAAY,EAAE,gBAAgB;IAC9BF,QAAQ,EAAE,QAAQ;IAClBC,KAAK,EAAE;EACT,CAAC;EACDO,UAAU,EAAE;IACVP,KAAK,EAAE,SAAS;IAChBG,UAAU,EAAE;EACd,CAAC;EACDK,aAAa,EAAE;IACbR,KAAK,EAAE,SAAS;IAChBG,UAAU,EAAE;EACd,CAAC;EACDM,YAAY,EAAE;IACZT,KAAK,EAAE,SAAS;IAChBG,UAAU,EAAE;EACd,CAAC;EACDO,SAAS,EAAE;IACThB,OAAO,EAAE,aAAa;IACtBD,eAAe,EAAE,SAAS;IAC1BO,KAAK,EAAE,MAAM;IACbF,MAAM,EAAE,MAAM;IACdH,YAAY,EAAE,KAAK;IACnBgB,MAAM,EAAE,SAAS;IACjBR,UAAU,EAAE,KAAK;IACjBS,SAAS,EAAE;EACb;AACF,CAAC;AAAC,IAAApB,EAAA;AAAAqB,YAAA,CAAArB,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}